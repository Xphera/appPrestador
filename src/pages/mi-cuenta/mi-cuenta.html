<!--
  Generated template for the MiCuentaPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Mi Cuenta</ion-title>
  </ion-navbar>
</ion-header>
<ion-content class="transparent-header">

  <div id="profile-bg" [ngStyle]="{'background-image': 'url(assets/imgs/background/material-design-background.jpg)'}"></div>
  <div id="content">
    <div id="profile-info" padding>
      <img id="profile-image" [src]="_prestadorPrvdr.prestador.imagePath|pathImagen">
      <h4 id="profile-name">{{_prestadorPrvdr.prestador.nombreCompleto}}</h4>
      <p>{{_prestadorPrvdr.prestador.profesion}}</p>
      <rating [(ngModel)]="_prestadorPrvdr.prestador.calificacion" readOnly="true"></rating>
    </div>
    <hr/>

    <ion-row class="profile-numbers">
      <ion-segment [(ngModel)]="segment" color="color1" mode="md">
        <ion-segment-button value="perfil">
          Perfil
        </ion-segment-button>
        <ion-segment-button value="formacion">
          Cuenta
        </ion-segment-button>
        <ion-segment-button value="comentarios">
          Reporte
        </ion-segment-button>
      </ion-segment>

    </ion-row>

    <div [ngSwitch]="segment">
      <!-- timeline -->
      <ion-list *ngSwitchCase="'perfil'">
        <p text-justify padding>{{ _prestadorPrvdr.prestador.perfil }}</p>

        <ion-card mode="ios">
          <ion-card-header>
            <h2>Información Básica</h2>
          </ion-card-header>
          <ion-list mode="ios">
            <ion-item>
              <!-- <ion-icon name='md-school' item-start color="primary"></ion-icon> -->
              <h2>Documento de identidad</h2>
              <p>{{_prestadorPrvdr.prestador.tipoDocumento}} {{_prestadorPrvdr.prestador.numeroDocumento}}</p>
            </ion-item>
            <ion-item>
              <!-- <ion-icon name='md-school' item-start color="primary"></ion-icon> -->
              <h2>Teléfono</h2>
              <p>{{_prestadorPrvdr.prestador.telefono}}</p>
            </ion-item>
            <ion-item>
              <!-- <ion-icon name='md-school' item-start color="primary"></ion-icon> -->
              <h2>Correo electrónico</h2>
              <p>{{_prestadorPrvdr.prestador.email}}</p>
            </ion-item>
            <ion-item>
              <!-- <ion-icon name='md-school' item-start color="primary"></ion-icon> -->
              <h2>Dirección</h2>
              <p>{{_prestadorPrvdr.prestador.direccion}} </p>
              <!-- <p *ngIf="_prestadorPrvdr.prestador.municipio">  {{_prestadorPrvdr.prestador.municipio["nombre"]}}</p> -->
            </ion-item>
            <ion-item>
              <!-- <ion-icon name='md-school' item-start color="primary"></ion-icon> -->
              <h2>Fecha de nacimiento</h2>
              <p>{{_prestadorPrvdr.prestador.fechaNacimiento|amLocale:'es-CO'| amDateFormat:'LL'}}</p>
            </ion-item>
          </ion-list>
          <button ion-button clear icon-start (click)="modalEditarInformacionBasica()">
            Editar información básica
          </button>
        </ion-card>


        <ion-card mode="ios">
          <ion-card-header>
            <h2>Formación</h2>
          </ion-card-header>
          <ion-list mode="ios">
            <ion-item *ngFor="let formacion of _prestadorPrvdr.prestador.formacion">
              <!-- <ion-icon name='md-school' item-start color="primary"></ion-icon> -->
              <h2>{{formacion.titulo}}</h2>
              <h3>{{formacion.institucion}}</h3>
              <p>{{formacion.year}}</p>
            </ion-item>
          </ion-list>
        </ion-card>

        <ion-card mode="ios">
          <ion-card-header>
            <h2>Paquetes</h2>
          </ion-card-header>
          <ion-list mode="ios">
            <ion-item *ngFor="let paquete of _prestadorPrvdr.prestador.paquetes">
              <!-- <ion-icon name='md-school' item-start color="primary"></ion-icon> -->
              <h2>{{paquete.nombre}}</h2>
              <h3 text-wrap>{{paquete.detalle}}</h3>
              <p> <small> Duración:
                {{ paquete.cantidadDeSesiones | i18nPlural: itemPluralMapping['sesion'] }}
                de {{ paquete.duracionSesion | i18nPlural: itemPluralMapping['hora'] }} </small> </p>
            </ion-item>
          </ion-list>
        </ion-card>

      </ion-list>
      <!-- Aboutme -->
      <ion-list *ngSwitchCase="'formacion'">
        <ion-card mode="ios">
          <ion-list>
            <button ion-item (click)="navPush('DisponibilidadPage')">
          <ion-icon name='md-calendar' item-start color="primary"></ion-icon>
          Disponiblidad
        </button>
            <button ion-item (click)="navPush('ZonaPage')">
          <ion-icon name='md-pin' item-start color="primary"></ion-icon>
          Zona
        </button>
            <button ion-item (click)="navPush('CambioUsuarioPage')">
          <ion-icon name='md-person' item-start color="primary"></ion-icon>
          Cambiar Usuario
        </button>
            <button ion-item (click)="navPush('CambioContraseñaPage')">
      <ion-icon name='md-lock' item-start color="primary"></ion-icon>
      Cambiar Contraseña
    </button>
            <button ion-item (click)="logout()" menuClose>
          <ion-icon name='md-exit' item-start color="danger"></ion-icon>
          Cerrar sesión
        </button>
          </ion-list>
        </ion-card>

      </ion-list>

    </div>

  </div>
</ion-content>
